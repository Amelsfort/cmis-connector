<?xml version="1.0" encoding="UTF-8"?>
<mule xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:spring="http://www.springframework.org/schema/beans" version="EE-3.4.0"
	xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:cmis="http://www.mulesoft.org/schema/mule/cmis"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/cmis http://www.mulesoft.org/schema/mule/cmis/current/mule-cmis.xsd">

	<context:property-placeholder location="automation-credentials.properties" />
	
	<cmis:config name="CMIS" username="${alfresco.username}" password="${alfresco.password}" baseUrl="${alfresco.baseUrl}" />
	
	<flow name="create-folder">
		<cmis:create-folder config-ref="CMIS" folderName="#[payload.folderName]" parentObjectId="#[payload.parentObjectId]" />
	</flow>

	<flow name="delete">
		<cmis:delete config-ref="CMIS" objectId="#[sessionVars.objectId]" allVersions="#[sessionVars.allVersions]" />
	</flow>
	
	<flow name="repository-info">
		<cmis:repository-info config-ref="CMIS" />
	</flow>

	<flow name="get-object-by-id">
		<cmis:get-object-by-id config-ref="CMIS" objectId="#[payload.objectId]" />
	</flow>
</mule>
